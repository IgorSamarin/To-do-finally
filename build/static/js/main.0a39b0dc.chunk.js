(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){e.exports={userPanel:"style_userPanel_userPanel__EnW74"}},23:function(e,t,n){e.exports={filterBtns:"style_filterBtns_filterBtns__2aRj7"}},24:function(e,t,n){e.exports={taskForm:"style_form_taskForm__2fXMT"}},25:function(e,t,n){e.exports={taskList:"style_taskList_taskList__dekqF"}},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(20),s=n.n(c),o=n(1),u=n.n(o),l=n(4),i=n(3),p=n(7),f=n.n(p),d=n(21),j="http://localhost:5000/api",b=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(j,"/user/login"),{username:t,password:n});case 3:return(a=e.sent).data&&(console.log(a.data),localStorage.setItem("token",a.data)),e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(j,"/user/registration"),{username:t,password:n});case 3:return(a=e.sent).data&&localStorage.setItem("token",a.data),e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){try{var e=localStorage.getItem("token");if(e)return Object(d.a)(e)}catch(t){alert(t.message)}},O=n(22),x=n.n(O),k=n(0);function v(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),o=Object(i.a)(s,2),p=o[0],f=o[1],d=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(r,p);case 2:(n=t.sent).message?alert(n.message):e.setUpdate(1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(r,p);case 2:(n=t.sent).message?alert(n.message):e.setUpdate(2);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)("form",{className:x.a.userPanel,onSubmit:function(e){return e.preventDefault()},children:[Object(k.jsx)("input",{id:"userName",onChange:function(e){return c(e.target.value)},autoComplete:"off",type:"text",placeholder:"username"}),Object(k.jsx)("input",{id:"password",onChange:function(e){return f(e.target.value)},autoComplete:"off",type:"password",placeholder:"password"}),Object(k.jsx)("button",{onClick:d,id:"signIn",children:"Sign IN"}),Object(k.jsx)("button",{onClick:j,id:"signUp",children:"Sign UP"})]})}n(50);var g=n(10),y="http://localhost:5000/api",C=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={chronology:t.chronology},"all"!==t.complete&&(a.complete=t.complete),e.next=5,f.a.get("".concat(y,"/user/").concat(n,"/tasks?")+new URLSearchParams(a),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),console.log(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(y,"/user/").concat(n,"/tasks"),{text:t},{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("".concat(y,"/user/").concat(n,"/task/").concat(t),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.put("".concat(y,"/user/").concat(a,"/task/").concat(t),{complete:!n},{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.put("".concat(y,"/user/").concat(a,"/task/").concat(t),{text:n},{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),D=n(23),I=n.n(D);function B(e){var t=Object(a.useState)("normal"),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)("all"),o=Object(i.a)(s,2),u=o[0],l=o[1],p=function(e){c(e.target.id)},f=function(e){l(e.target.id)};return Object(a.useEffect)((function(){e.updateFilters(r,u)}),[r,u]),Object(k.jsxs)("div",{className:I.a.filterBtns,children:[Object(k.jsx)("input",{onChange:function(e){return p(e)},type:"radio",name:"chronology",id:"normal",defaultChecked:!0}),Object(k.jsx)("label",{htmlFor:"normal",children:"normal"}),Object(k.jsx)("input",{onChange:function(e){return p(e)},type:"radio",name:"chronology",id:"reverse"}),Object(k.jsx)("label",{htmlFor:"reverse",children:"reverse"}),Object(k.jsx)("hr",{}),Object(k.jsx)("input",{onChange:function(e){return f(e)},type:"radio",name:"complete",id:"all",defaultChecked:!0}),Object(k.jsx)("label",{htmlFor:"all",children:"all"}),Object(k.jsx)("input",{onChange:function(e){return f(e)},type:"radio",name:"complete",id:"true"}),Object(k.jsx)("label",{htmlFor:"true",children:"done"}),Object(k.jsx)("input",{onChange:function(e){return f(e)},type:"radio",name:"complete",id:"false"}),Object(k.jsx)("label",{htmlFor:"false",children:"undone"})]})}var N=n(24),F=n.n(N);function E(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(k.jsxs)("form",{className:F.a.taskForm,onSubmit:function(t){return(n=t).preventDefault(),""!==r&&e.callPostTasks(r),c(""),void n.target.reset();var n},children:[Object(k.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)}}),Object(k.jsx)("button",{type:"submit",children:"Add"})]})}var U=n(6),P=n.n(U);function A(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(e.text),o=Object(i.a)(s,2),u=o[0],l=o[1],p=Object(a.useState)(e.complete),f=Object(i.a)(p,2),d=f[0],j=f[1],b=Object(a.useState)(""),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(a.useRef)(),v=function(){c(!r),r&&y(m)},g=function(){c(!0)},y=function(t){c(!1),""!==m.replace(/[' ']{1,}/,"")&&m!==u&&(e.callEditTasks(e.id,u),l(m))},C=function(){e.callDeleteTasks(e.id)},w=function(){j(!d),x.current.classList.toggle("".concat(P.a.complete)),e.callDoneTasks(e.id,d)};return e.complete?Object(k.jsxs)("li",{ref:x,className:"".concat(P.a.task," ").concat(P.a.complete),children:[r&&Object(k.jsx)("input",{onKeyDown:function(e){"Enter"===e.code&&y(e)},defaultValue:u,autoFocus:!0,onChange:function(e){return O(e.target.value)},type:"text"}),!r&&Object(k.jsx)("span",{onDoubleClick:g,className:"taskText",children:u}),Object(k.jsx)("button",{onClick:function(e){return C()},className:P.a.taskBtn,children:"Delete"}),Object(k.jsx)("button",{onClick:function(e){return v()},className:P.a.taskBtn,children:"Edit"}),Object(k.jsx)("button",{onClick:function(e){return w()},className:P.a.taskBtn,children:"Done"})]}):Object(k.jsxs)("li",{ref:x,className:"".concat(P.a.task),children:[r&&Object(k.jsx)("input",{onKeyDown:function(e){"Enter"===e.code&&y(e)},defaultValue:u,autoFocus:!0,onChange:function(e){return O(e.target.value)},type:"text"}),!r&&Object(k.jsx)("span",{onDoubleClick:g,className:"taskText",children:u}),Object(k.jsx)("button",{onClick:function(e){return C()},className:P.a.taskBtn,children:"Delete"}),Object(k.jsx)("button",{onClick:function(e){return v()},className:P.a.taskBtn,children:"Edit"}),Object(k.jsx)("button",{onClick:function(e){return w()},className:P.a.taskBtn,children:"Done"})]})}var L=n(25),z=n.n(L);function J(e){var t;return t=e.tasks?0===e.tasks.length?"no tasks":e.tasks.map((function(t){return t.complete?Object(k.jsx)(A,{addClassDone:"complete",callDoneTasks:e.callDoneTasks,callDeleteTasks:e.callDeleteTasks,callEditTasks:e.callEditTasks,id:t.id,text:t.text,complete:t.complete},t.id):Object(k.jsx)(A,{addClassDone:"",callDoneTasks:e.callDoneTasks,callDeleteTasks:e.callDeleteTasks,callEditTasks:e.callEditTasks,id:t.id,text:t.text,complete:t.complete},t.id)})):"err",Object(k.jsx)("ul",{className:z.a.taskList,children:t})}function R(e){var t=Object(a.useState)({chronology:"normal",complete:"all"}),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),p=o[0],f=o[1],d=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n,e.UserId);case 2:a=t.sent,("normal"===r.chronology&&"false"==r.complete||"normal"===r.chronology&&"all"==r.complete)&&f([a].concat(Object(g.a)(p))),("reverse"===r.chronology&&"false"==r.complete||"reverse"===r.chronology&&"all"==r.complete)&&f([].concat(Object(g.a)(p),[a]));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n,e.UserId);case 2:204===t.sent.status&&(a=p.find((function(e){if(e.id===parseInt(n))return e})),p.splice(p.indexOf(a),1),f(Object(g.a)(p)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(l.a)(u.a.mark((function t(n,a){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(n,a,e.UserId);case 2:r=t.sent,c=p.find((function(e){if(e.id===r.id)return e})),p[p.indexOf(c)].complete=r.complete;case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(l.a)(u.a.mark((function t(n,a){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(n,a,e.UserId);case 2:200===(r=t.sent).status&&(c=p.find((function(e){if(e.id===r.data.id)return e})),p[p.indexOf(c)].text=r.data.text);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(a.useEffect)(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f,t.next=3,C(r,e.UserId);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))),[r]),Object(k.jsxs)("div",{children:[Object(k.jsx)(E,{callPostTasks:d}),Object(k.jsx)(B,{updateFilters:function(e,t){c({chronology:e,complete:t})}}),Object(k.jsx)(J,{callEditTasks:h,callDoneTasks:b,callDeleteTasks:j,tasks:p})]})}var q=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({id:0,username:""}),s=Object(i.a)(c,2),o=s[0],p=s[1],f=Object(a.useState)(),d=Object(i.a)(f,2),j=d[0],b=d[1];return Object(a.useEffect)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=m())&&(p(t),r(!0));case 2:case"end":return e.stop()}}),e)}))),[j]),n?Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("h1",{children:[" ",o.username,"'s To do list"]}),Object(k.jsx)("button",{id:"signOut",onClick:function(){localStorage.removeItem("token"),r(!1),b(3)},children:"Sign Out"}),Object(k.jsx)(R,{UserId:o.id})]}):Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("h1",{children:"To do list"}),Object(k.jsx)(v,{user:o,setUpdate:b,updateUser:p,setIsAuth:r})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(q,{})}),document.getElementById("root")),K()},6:function(e,t,n){e.exports={task:"style_task_task__3S4S8",complete:"style_task_complete__3IWJO",animateDelete:"style_task_animateDelete__2ZeH3",taskBtn:"style_task_taskBtn__3Or1q",btnDelete:"style_task_btnDelete__16LBe"}}},[[51,1,2]]]);
//# sourceMappingURL=main.0a39b0dc.chunk.js.map